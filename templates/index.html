<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Encryptig Examples</title>
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
        rel="stylesheet"
    >
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <style>
    </style>
</head>
<body class="crt crt-curved">
    <div class="d-flex justify-content-center align-items-center vh-100">
      <div class="neon-card p-4 shadow-lg" style="min-width: 450px;">
        <h3 class="text-center mb-4 neon-title">Encryption Methods</h3>

        <form method="POST">
          <div class="mb-3">
            <label class="form-label" for="input_type">Choose Encryption Type:</label>
            <select class="form-select neon-select" id="input_type" name="input_type" required>
                <option value="caesar" {% if input_type == 'caesar' %}selected{% endif %}>Caesar</option>
                <option value="rsa" {% if input_type == 'rsa' %}selected{% endif %}>RSA</option>
                <option value="hashing" {% if input_type == 'hashing' %}selected{% endif %}>Hashing</option>
            </select>
          </div>

          <div class="mb-3">
            <label class="form-label" for="user_input">Enter Value:</label>
            <div class="d-flex gap-2">
              <input 
                  type="text" 
                  class="form-control flex-grow-1 neon-input"
                  id="user_input" 
                  name="user_input" 
                  required
                  value="{{ user_input or '' }}"
              >
              <input style="max-width: 80px;" class="form-control neon-input" type="number" id="key_caesar" name="key_caesar" value="{{ key_caesar or '' }}">
            </div>  
          </div>

          <input type="hidden" name="action" id="action">
          
          <div class="d-flex justify-content-between mt-4">
              <button type="submit" class="btn btn-neon w-45" onclick="document.getElementById('action').value='encrypt'" id="encrypt">Encrypt</button>
              <button type="submit" class="btn btn-neon w-45" onclick="document.getElementById('action').value='decrypt'" id="decrypt">Decrypt</button>
          </div>
        </form>

        {% if output %}
        <div class="alert alert-info text-dark mt-4">
            <h3>Output:</h3>
            <p>{{ output }}</p>
        </div>
        {% endif %}
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.getElementById("input_type").addEventListener("change", function () {
            const selected = this.value;
            const box = document.getElementById("key_caesar");
            if(selected === "caesar"){
              box.style.display = "inline-block";
              box.required = true;
            }else{
              box.style.display = "none";
              box.required = false;
            }
        });

        document.getElementById("input_type").dispatchEvent(new Event("change"));
    </script>
</body>
</html>

